<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eiko</title>
    <meta name="apple-itunes-app" content="app-id=com.gavy.eiko">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Vérifie si le chemin actuel est la racine
            if (window.location.pathname === '/') {
                // Détection de la langue du navigateur
                const userLang = navigator.language || navigator.userLanguage;
    
                // Configuration des redirections en fonction des langues
                const langRedirects = {
                    'fr': '/fr/',
                    'en': '/en/',
                };
    
                // Garde uniquement le code 'fr', 'en', etc.
                const langCode = userLang.slice(0, 2).toLowerCase();
    
                // Fonction pour vérifier si le chemin contient des segments spécifiques
                const hasReferralOrUser = (path) => {
                    return path.includes('/referral/') || path.includes('/user/');
                };
    
                // Fonction pour vérifier si le chemin commence par un code de langue
                const startsWithLang = (path) => {
                    return path.startsWith('/fr/') || path.startsWith('/en/');
                };
    
                // Si l'URL contient des segments spécifiques, ne redirige pas
                if (!hasReferralOrUser(window.location.pathname)) {
                    if (langRedirects[langCode] && !startsWithLang(window.location.pathname)) {
                        // Rediriger vers le dossier de langue approprié
                        window.location.href = langRedirects[langCode];
                    } else if (!startsWithLang(window.location.pathname)) {
                        // Redirection par défaut (anglais par exemple)
                        window.location.href = '/en/';
                    }
                }
            }
        });
    </script>
</head>

<body style="background-color: #444444">
    <div class="loader"></div>
    <style>
        .loader {
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</body>

</html>